<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<title>Proposed RDF Abstract Syntax</title>
	<link rel="stylesheet" href="../RDDL/xrd.css" type="text/css"/>
</head>

<body>
<h1>RDF Abstract Syntax</h1>
<p>Editors: </p>
<p>Jonathan Borden <a href="mailto:jonathan@openhealth.org">jonathan@openhealth.org</a></p>
<p>Pat Hayes <a href="pat.hayes@ai.uwf.edu">phayes@ai.uwf.edu</a></p>
<p>This version: <a href="http://www.openhealth.org/RDF/RDFAbstractSyntax-20010603.html">June 3, 2001</a></p>
<p><a href="http://www.openhealth.org/RDF/RDFAbstractSyntax.html">Latest version</a></p>
<p>Previous version: <a href="http://www.openhealth.org/RDF/RDFAbstractSyntax-20010524.html">May 24, 2001</a></p>
<h2>Introduction</h2>
	<p>This document defines an <em>Abstract Syntax</em> or <em>Infoset</em> for RDF [<a href="#RDF-MS">1</a>].
	RDF Statements are commonly refered to as triples of {predicate,subject,object}. In practice RDF Datastores may
	supplement the triple with associated information. This abstract syntax defines the supplemented information items.</p>
<h2>Context</h2>
<p>A Context is a list (ordered set) of Statements</p>
<h2>Statement</h2>
<p>A Statement is represented by the 6-tuple: <b>&lt;predicate,subject,object, context, index, asserted&gt;</b></p>
<h3>atom</h3>
<p>An atom represents either an XML QName, according to XML Namespaces, or a quantified variable matching the EBNF:</p>
<p>atom := (quantvar | QName)</p>
<p> quantvar := ('?' Name)  Name as defined in XML 1.0</p>
<h3>predicate</h3>
<p>A predicate is an <code>atom</code>.</p>
<h3>subject</h3>
<p>A subject is an atom.</p>
<h3>object</h3>
<p>An object is an atom. Note that literal strings may be represented by the <code>data:</code> URI scheme.</p>
<h3>context</h3>
<p>A context is represented by a QName</p>
<h4>Purpose of the Context</h4>
<p>The context allows separation of statements into lists which can be asserted as a group. Contexts allow 'coloring' of subgraphs.
The document from which a set of statements arises forms a context (represented by its URI). Contexts can 'contain' other contexts.</p>
<h3>index</h3>
<p>The <code>index</code> gives the index of a statement within a context in document order. 
The index allows preservation of statement order as if each RDF &lt;Description&gt; defines a container, and folds the RDF concept of 
container directly into the RDF Abstract Syntax.</p>
<h4>Purpose of the index</h4>
<p>The index allows representation of the statements contained by a context as a list which is an ordered set of tuples. Index also allows reference to a statement within a context using the 
syntax "/" number, where the number refers to the particular statement. This is the syntax of the XPointer child sequence.</p>
<p class="ednote">If we remove index, how do we represent <em>lists</em>? Also consider using a special statement to indicate
the <em>last</em> statement in a list.</p>
<h3>asserted</h3>
<p><em>asserted</em> flags whether a statement is asserted within the context. Asserted statements are the root
statements of expressions formulated from more than one statement.</p>
<h4>Purpose of asserted</h4>
<p>An asserted statement is a root statement for expressions contained by a context.</p>
<p class="ednote">If we remove <em>asserted</em>, how will we signal that the statement is the root statement of an expression? This seems to be the sole
purpose of this flag.</p>
<h2>Abstract Syntax</h2>
<ol>
<li>There exists a set called QNames</li>
<li>There exists a set called quantifiedVariables</li>
<li>There exists a set called Atoms where for all a in Atoms => (a in QNames) or (a in quantifiedVariables)</li>
<li>for all atom(x) &lt;=> x in Atoms</li>
<li>There exists a set called Predicates where for all p in Predicates => atom(p)</li>
<li>There exists a set called Subjects where for all s in Subjects => atom(s)</li>
<li>There exists a set called Objects where for all o in Objects => atom(o)</li>
<li>There exists a set called Contexts where for all c in Contexts => atom(c)</li>
<li>There exists a set called Asserted where for all a in Asserted => boolean(a)</li>
<li>There exists a set of Statements := {&lt;predicate,subject,object,context,index,asserted>}</li>
</ol>
<h2>Referring to Statements by Index</h2>
<p>A statement may be referred to by <code>index</code> using a syntax consistent with the <code>ChildSeq</code> syntax of XPointer []. For example,
the 2nd statement in a context is referred to as:</p>
<p><b>/2</b></p>
<p>This syntax allows reference to a particular statement in a context <em>as if</em> the context were an <i>&lt;rdf:Seq&gt;</i> container.
One can refer to a range of statements by inserting a hyphen between the start and ending index of the range, e.g.: <em>/2-6</em>.</p>
<h2>Examples:</h2>
<p>The statement:</p>
<p><em>(not (says jon (color sky blue))</em></p>
<p>is represented by the Statements:</p>
<ol>
<li>&lt;not,/2,true,ctx-foo:s1,1,true&gt;</li>
<li>&lt;says,jon,/3,ctx-foo:s1,2,false&gt;</li>
<li>&lt;color,sky,blue,ctx-foo:s1,3,false&gt;</li>
</ol>
<p>The Squish [<a href="#SQUISH">2</a>] query: (dc:creator, foo, ?x)(foaf:mbox, ?x, mailto:jonathan@openhealth.org)</p>
<p>is represented as:
<ol>
	<li>&lt;stmt,this,/2-3,ctx-query,1,false&gt;</li>
	<li>&lt;dc:creator,foo,?x,ctx-query,2,false&gt;</li>
	<li>&lt;foaf:mbox,?x,mailto:jonathan@openhealth.org,ctx-query,3,false&gt;</li>
</ol>

<h2>S Expressions</h2>
<p>An s-expression may be represented in XML:</p>
<p>(or a b c d)</p>
<p>becomes</p>
<pre>
&lt;or&gt;
&#160;&lt;a/&gt;
&#160;&lt;b/&gt;
&#160;&lt;c/&gt;
&#160;&lt;d/&gt;
&lt;/or&gt;
</pre>
<p>In the case of representing an s-expression in RDF, the statement index is used to represent the list.</p>
<ol>
<li>&lt;rdf:type,this:or,or,ctx-stmt,1,true&gt;</li>
<li>&lt;a,this:or,true,ctx-stmt/1,2,false&gt;</li>
<li>&lt;b,this:or,true,ctx-stmt/1,3,false&gt;</li>
<li>&lt;c,this:or,true,ctx-stmt/1,4,false&gt;</li>
<li>&lt;d,this:or,true,ctx-stmt/1,5,false&gt;</li>
</ol>
<ol>
<li><a id="RDF-MS"></a><a href="http://www.w3.org/TR/REC-rdf-syntax">W3C RDF Model and Syntax 1.0</a></li>
<li><a id="SQUISH"></a><a href="http://swordfish.rdfweb.org/rdfquery/">ILRT Squish</a></li>
<li><a href="http://www-db.stanford.edu/~melnik/rdf/db.html">RDF DB</a></li>
<li><a href="http://lists.w3.org/Archives/Public/www-rdf-interest/2000Feb/0172.html">1</a></li>
<li><a href="http://www.w3.org/DesignIssues/Notation3.html">N3</a></li>
<li><a href="http://public.research.mimesweeper.com/RDF/RDFContexts.html">Klyne's Contexts</a></li>
</ol>
</body>
</html>
